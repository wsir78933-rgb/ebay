# CLAUDE.md - eBay Webhook å–å®¶ç›‘æŽ§ç³»ç»Ÿ

> **æ–‡æ¡£ç‰ˆæœ¬**: 1.0
> **æœ€åŽæ›´æ–°**: 2025-09-27
> **é¡¹ç›®**: eBay Webhook å–å®¶ç›‘æŽ§ç³»ç»Ÿ
> **çŠ¶æ€**: âœ… ç”Ÿäº§çŽ¯å¢ƒæ­£å¸¸è¿è¡Œ

## ðŸŽ¯ é¡¹ç›®æ¦‚è¿°

eBayç”¨æˆ·è´¦æˆ·åˆ é™¤é€šçŸ¥Webhookå¤„ç†å™¨ï¼Œé›†æˆSupabaseæ•°æ®åº“å’Œå–å®¶ç›‘æŽ§åŠŸèƒ½ï¼Œç¬¦åˆGDPRè¦æ±‚ã€‚

## ðŸš¨ é‡è¦é—®é¢˜è§£å†³è®°å½•

### âœ… **å·²è§£å†³ï¼šGitHubçº¢è‰²âŒéƒ¨ç½²å¤±è´¥é—®é¢˜**
**æ—¥æœŸ**: 2025-09-27
**æ ¹æœ¬åŽŸå› **: vercel.jsonä¸­cronsé…ç½®è¿åHobbyå¥—é¤é™åˆ¶
**é—®é¢˜**: `"schedule": "0 */2 * * *"` (æ¯2å°æ—¶æ‰§è¡Œï¼Œè¿åå¥—é¤é™åˆ¶)
**è§£å†³**: `"schedule": "0 23 * * *"` (æ¯å¤©23ç‚¹æ‰§è¡Œï¼Œç¬¦åˆå¥—é¤è¦æ±‚)
**ç»“æžœ**: GitHubçŠ¶æ€ä»Žçº¢è‰²âŒå˜ä¸ºç»¿è‰²âœ…ï¼ŒVerceléƒ¨ç½²æ¢å¤æ­£å¸¸

## ðŸ—ï¸ ç³»ç»Ÿæž¶æž„

### **æ ¸å¿ƒç»„ä»¶**
1. **eBay WebhookæŽ¥æ”¶å™¨** (`/api/ebay-webhook`)
   - å¤„ç†eBayç”¨æˆ·åˆ é™¤é€šçŸ¥
   - éªŒè¯webhookç­¾å
   - ç¬¦åˆGDPRåˆè§„è¦æ±‚

2. **å–å®¶ç›‘æŽ§ç³»ç»Ÿ** (`/api/monitor-sellers`)
   - ç›‘æŽ§ç›®æ ‡å–å®¶ï¼š`electronicdea1s`, `cellfc`
   - å®žæ—¶è·Ÿè¸ªiPhoneå•†å“åŠ¨æ€
   - æ¯å¤©23ç‚¹è‡ªåŠ¨æ‰§è¡Œ

### **æ•°æ®åº“**
- **Supabase**: äº‘æ•°æ®åº“å­˜å‚¨ç›‘æŽ§æ•°æ®
- **çŽ¯å¢ƒå˜é‡**:
  - `SUPABASE_URL`
  - `SUPABASE_ANON_KEY`

## ðŸ“Š ç›‘æŽ§åŠŸèƒ½è¯¦è§£

### **ç›‘æŽ§æŒ‡æ ‡**
- ðŸ“ˆ **ä»·æ ¼å˜åŒ–**: è·Ÿè¸ªå•†å“ä»·æ ¼æ³¢åŠ¨
- ðŸ†• **æ–°å¢žå•†å“**: å‘çŽ°æ–°ä¸Šæž¶å•†å“
- âŒ **ä¸‹æž¶å•†å“**: æ£€æµ‹å•†å“ç§»é™¤
- ðŸ“ **æ ‡é¢˜å˜åŒ–**: ç›‘æŽ§å•†å“æ ‡é¢˜ä¿®æ”¹
- ðŸ–¼ï¸ **å›¾ç‰‡å˜åŒ–**: æ£€æµ‹å•†å“å›¾ç‰‡æ›´æ–°
- â­ **è¯„çº§å˜åŒ–**: ç›‘æŽ§å–å®¶è¯„åˆ†

### **å½“å‰ç›‘æŽ§çŠ¶æ€**
- **ç›‘æŽ§å•†å“æ€»æ•°**: 100ä¸ªiPhoneç›¸å…³äº§å“
- **ä»·æ ¼èŒƒå›´**: $29.99 - $827.99
- **å•†å“ç±»åž‹**: iPhone 6 åˆ° iPhone 16 å…¨ç³»åˆ—
- **æ£€æµ‹é¢‘çŽ‡**: æ¯å¤©23ç‚¹è‡ªåŠ¨æ£€æŸ¥

## ðŸš€ éƒ¨ç½²çŠ¶æ€

### **ç”Ÿäº§çŽ¯å¢ƒ**
- **URL**: https://ebaywebhook-one.vercel.app
- **çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **æœ€æ–°éƒ¨ç½²**: 2025-09-27 13:21 (ä¿®å¤vercel.jsoné…ç½®)

### **APIç«¯ç‚¹æµ‹è¯•**
- âœ… `/api/ebay-webhook`: æ­£å¸¸å“åº”
- âœ… `/api/monitor-sellers`: è¿”å›žå®Œæ•´ç›‘æŽ§æ•°æ®

### **GitHubçŠ¶æ€**
- âœ… ç»¿è‰²æˆåŠŸçŠ¶æ€
- âœ… Vercelè‡ªåŠ¨éƒ¨ç½²æ­£å¸¸
- âœ… å®šæ—¶ä»»åŠ¡é…ç½®ç¬¦åˆå¥—é¤é™åˆ¶

## âš™ï¸ æŠ€æœ¯æ ˆ

- **è¿è¡Œæ—¶**: Node.js 18+
- **æ¡†æž¶**: Vercel Serverless Functions
- **æ•°æ®åº“**: Supabase
- **éƒ¨ç½²**: Vercel (Hobbyå¥—é¤)
- **API**: eBay Developer API
- **è¯­è¨€**: JavaScript (ES Modules)

## ðŸ“ é…ç½®æ–‡ä»¶

### **package.json**
```json
{
  "type": "module",
  "engines": {
    "node": ">=18.0.0"
  },
  "dependencies": {
    "@supabase/supabase-js": "^2.39.0",
    "nodemailer": "^6.9.8"
  }
}
```

### **vercel.json** (é‡è¦é…ç½®)
```json
{
  "crons": [
    {
      "path": "/api/monitor-sellers",
      "schedule": "0 23 * * *"
    }
  ]
}
```

## ðŸ”§ å¼€å‘æŒ‡å—

### **æœ¬åœ°å¼€å‘**
```bash
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run deploy       # éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ
```

### **çŽ¯å¢ƒå˜é‡**
```env
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_key
NODE_ENV=production
```

## ðŸ“‹ è¿ç»´è®°å½•

### **é‡è¦äº‹ä»¶**
- **2025-09-27**: ä¿®å¤Vercelå®šæ—¶ä»»åŠ¡é…ç½®ï¼Œè§£å†³GitHubçº¢è‰²âŒå¤±è´¥é—®é¢˜
- **2025-09-27**: ç¡®è®¤ä¸¤ä¸ªAPIç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- **2025-09-27**: å–å®¶ç›‘æŽ§ç³»ç»Ÿæ£€æµ‹åˆ°100ä¸ªå•†å“ï¼ŒåŠŸèƒ½æ­£å¸¸

### **å¥—é¤é™åˆ¶**
- **Hobbyå¥—é¤**: æœ€å¤š2ä¸ªcron jobsï¼Œæ¯å¤©æœ€å¤šæ‰§è¡Œä¸€æ¬¡
- **å½“å‰ä½¿ç”¨**: 1ä¸ªcron jobï¼Œæ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡ âœ…

## ðŸ› æ•…éšœæŽ’é™¤

### **å¸¸è§é—®é¢˜**
1. **Verceléƒ¨ç½²å¤±è´¥**: æ£€æŸ¥cronsé…ç½®æ˜¯å¦è¿åå¥—é¤é™åˆ¶
2. **APIå“åº”å¼‚å¸¸**: ç¡®è®¤Supabaseè¿žæŽ¥å’ŒçŽ¯å¢ƒå˜é‡
3. **å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œ**: éªŒè¯scheduleæ ¼å¼å’Œå¥—é¤é™åˆ¶

### **ç›‘æŽ§æ£€æŸ¥**
- GitHub ActionsçŠ¶æ€
- Verceléƒ¨ç½²æ—¥å¿—
- APIç«¯ç‚¹å¥åº·æ£€æŸ¥
- Supabaseæ•°æ®åº“è¿žæŽ¥

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [eBay Developer Documentation](https://developer.ebay.com)
- [Vercel Cron Jobs](https://vercel.com/docs/cron-jobs)
- [Supabase Documentation](https://supabase.io/docs)
- [GDPR Compliance Guide](https://gdpr-info.eu)

---

> ðŸ¤– **æ­¤æ–‡æ¡£ç”±Claude Codeç»´æŠ¤**
> ðŸ“… **ä¸‹æ¬¡æ›´æ–°**: å½“ç³»ç»Ÿæœ‰é‡å¤§å˜æ›´æ—¶
> ðŸ”— **é¡¹ç›®ä»“åº“**: https://github.com/wsir78933-rgb/ebay